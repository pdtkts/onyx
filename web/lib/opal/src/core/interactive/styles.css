/* Interactive — base (structural only, no color changes) */
.interactive {
  @apply cursor-pointer select-none transition-all;
}

.interactive[data-disabled] {
  @apply cursor-not-allowed;
}

/* Utility class — descendants opt in to parent-controlled foreground color */
.interactive-foreground {
  color: var(--interactive-foreground);
}

/* ============================================================================
   Variant + Subvariant combinations (9 + select)

   Each combination sets:
     - background-color (via @apply)
     - --interactive-foreground (CSS custom property for descendant text color)

   Descendants opt in to text color via: color: var(--interactive-foreground);

============================================================================ */

/* ---------------------------------------------------------------------------
   Default + Primary
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="primary"] {
  @apply bg-[var(--theme-primary-05)];
  --interactive-foreground: var(--text-inverted-05);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="primary"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="primary"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--theme-primary-04)];
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="primary"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--theme-primary-06)];
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="primary"][data-disabled] {
  @apply bg-background-neutral-04;
  --interactive-foreground: var(--text-inverted-04);
}

/* ---------------------------------------------------------------------------
   Default + Secondary
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="secondary"] {
  @apply bg-background-tint-01;
  --interactive-foreground: var(--text-03);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="secondary"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="secondary"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
  --interactive-foreground: var(--text-04);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="secondary"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
  --interactive-foreground: var(--text-05);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="secondary"][data-disabled] {
  @apply bg-background-neutral-03;
  --interactive-foreground: var(--text-01);
}

/* ---------------------------------------------------------------------------
   Default + Ghost
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="ghost"] {
  @apply bg-transparent;
  --interactive-foreground: var(--text-03);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="ghost"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="ghost"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
  --interactive-foreground: var(--text-04);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="ghost"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
  --interactive-foreground: var(--text-05);
}
.interactive[data-interactive-base-variant="default"][data-interactive-base-subvariant="ghost"][data-disabled] {
  @apply bg-transparent opacity-50;
  --interactive-foreground: var(--text-01);
}

/* ---------------------------------------------------------------------------
   Action + Primary
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="primary"] {
  @apply bg-[var(--action-link-05)];
  --interactive-foreground: var(--text-light-05);
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="primary"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="primary"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--action-link-04)];
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="primary"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--action-link-06)];
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="primary"][data-disabled] {
  @apply bg-[var(--action-link-02)];
  --interactive-foreground: var(--text-01);
}

/* ---------------------------------------------------------------------------
   Action + Secondary
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="secondary"] {
  @apply bg-background-tint-01;
  --interactive-foreground: var(--action-text-link-05);
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="secondary"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="secondary"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="secondary"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="secondary"][data-disabled] {
  @apply bg-background-neutral-02;
  --interactive-foreground: var(--action-link-03);
}

/* ---------------------------------------------------------------------------
   Action + Ghost
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="ghost"] {
  @apply bg-transparent;
  --interactive-foreground: var(--action-text-link-05);
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="ghost"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="ghost"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="ghost"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
}
.interactive[data-interactive-base-variant="action"][data-interactive-base-subvariant="ghost"][data-disabled] {
  @apply bg-transparent opacity-50;
  --interactive-foreground: var(--action-link-03);
}

/* ---------------------------------------------------------------------------
   Danger + Primary
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="primary"] {
  @apply bg-[var(--action-danger-05)];
  --interactive-foreground: var(--text-light-05);
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="primary"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="primary"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--action-danger-04)];
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="primary"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--action-danger-06)];
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="primary"][data-disabled] {
  @apply bg-[var(--action-danger-02)];
  --interactive-foreground: var(--text-01);
}

/* ---------------------------------------------------------------------------
   Danger + Secondary
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="secondary"] {
  @apply bg-background-tint-01;
  --interactive-foreground: var(--action-text-danger-05);
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="secondary"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="secondary"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="secondary"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="secondary"][data-disabled] {
  @apply bg-background-neutral-02;
  --interactive-foreground: var(--action-danger-03);
}

/* ---------------------------------------------------------------------------
   Danger + Ghost
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="ghost"] {
  @apply bg-transparent;
  --interactive-foreground: var(--action-text-danger-05);
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="ghost"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="ghost"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="ghost"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
}
.interactive[data-interactive-base-variant="danger"][data-interactive-base-subvariant="ghost"][data-disabled] {
  @apply bg-transparent opacity-50;
  --interactive-foreground: var(--action-danger-03);
}

/* ---------------------------------------------------------------------------
   Select (optional "heavy" subvariant)

   Foreground is a 2D state machine: interaction × selected.
   When not selected, text darkens on :active. When selected, foreground
   switches to the action-link colour family and stays constant.

   `data-transient` forces the hover background (same as all other variants).
   `data-selected` switches the foreground to action-link colours.

   The "heavy" subvariant overrides the selected background to action-link-01
   (instead of transparent). All other states are identical.
   --------------------------------------------------------------------------- */
.interactive[data-interactive-base-variant="select"] {
  @apply bg-transparent;
  --interactive-foreground: var(--text-04);
}
.interactive[data-interactive-base-variant="select"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="select"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
}
.interactive[data-interactive-base-variant="select"][data-selected="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  --interactive-foreground: var(--action-link-05);
}
.interactive[data-interactive-base-variant="select"]:active:not(
    [data-static]
  ):not([data-disabled]):not([data-selected="true"]) {
  @apply bg-background-neutral-00;
  --interactive-foreground: var(--text-05);
}
.interactive[data-interactive-base-variant="select"][data-selected="true"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-neutral-00;
}
.interactive[data-interactive-base-variant="select"][data-disabled] {
  @apply bg-transparent;
  --interactive-foreground: var(--text-02);
}
.interactive[data-interactive-base-variant="select"][data-selected="true"][data-disabled] {
  --interactive-foreground: var(--action-link-03);
}

/* Heavy — selected background overrides */
.interactive[data-interactive-base-variant="select"][data-interactive-base-subvariant="heavy"][data-selected="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-[var(--action-link-01)];
}
.interactive[data-interactive-base-variant="select"][data-interactive-base-subvariant="heavy"][data-selected="true"]:hover:not(
    [data-static]
  ):not([data-disabled]),
.interactive[data-interactive-base-variant="select"][data-interactive-base-subvariant="heavy"][data-selected="true"][data-transient="true"]:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-02;
}
.interactive[data-interactive-base-variant="select"][data-interactive-base-subvariant="heavy"][data-selected="true"]:active:not(
    [data-static]
  ):not([data-disabled]) {
  @apply bg-background-tint-00;
}
